(function(n){"use strict";function p(n){var t=new RegExp("//(.+?)/");return t.exec(n)[1]}for(var t,a,u,f,c,v,i,y,r=getParameterByName("id"),e=getParameterByName("creator"),o=getParameterByName("tag"),s=getParameterByName("group"),h=0,w="",l=works.length-1;l>=0;l--)if((t=works[l],!r||t.id==r)&&(!e||t.creator.name==e)&&(!o||!(t.tags.indexOf(o)<0))&&(!s||t.group==s)){for(h++,a="",i=0;i<t.urls.length;i++)a+='<span><i class="glyphicon glyphicon-globe"><\/i> <a href="'+t.urls[i]+'" target="_blank">'+p(t.urls[i])+"<\/a><\/span> ";if(u="",t.creator.twitter&&(u='<a href="https://twitter.com/'+t.creator.twitter+'" target="_blank"><img src="http://www.paper-glasses.com/api/twipi/'+t.creator.twitter+'/mini" class="img-responsive img-rounded" style="display:inline-block;" /><\/a> '),u+='<span><a href="works.html?creator='+encodeURIComponent(t.creator.name)+'">'+t.creator.name+"<\/a> さん ",t.creator.urls)for(f=0;f<t.creator.urls.length;f++)u+='<a href="'+t.creator.urls[f]+'" target="_blank">'+p(t.creator.urls[f])+"<\/a>";for(u+="<\/span>",c="",i=0;i<t.tags.length;i++)c+='<a class="label label-primary" href="works.html?tag='+encodeURIComponent(t.tags[i])+'">'+t.tags[i]+"<\/a> ";if(t.group&&(c+='<a class="label label-default" href="works.html?group='+encodeURIComponent(t.group)+'">'+t.group+"<\/a> "),w+='<div class="row works-card"><div class="col-xs-3 col-md-3">'+(r?"":'<a href="works.html?id='+t.id+'">')+'<img src="images/works/'+t.thumb+'" class="img-responsive img-rounded" />'+(r?"":"<\/a>")+'<\/div><div class="col-xs-9 col-md-9"><h3>'+(r?t.title:'<a href="works.html?id='+t.id+'">'+t.title+"<\/a>")+"<\/h3><p>"+t.desc.replace(/\n/g,"<br />")+"<\/p><p>"+a+'<\/p><p class="author">'+u+"<\/p><p>"+c+"<\/p><\/div><\/div>",r){for(v="",i=0;i<t.images.length;i++)y='<div class="col-md-4"><img src="images/works/'+t.images[i]+'" class="img-responsive img-thumbnail screenshot" /><\/div>',v+=i%3==2?'<div class="row">'+y+"<\/div>":y;n("#screenshots").html(v);n("title").text(t.title+" | マスコットアプリ文化祭 2014")}}n(".container>.row:first").after(w);o?n("#search-param").html("Tag: "+o+" （"+h+'件） <a href="./works.html">全表示<\/a>'):e?n("#search-param").html("Creator: "+e+" さん （"+h+'件） <a href="./works.html">全表示<\/a>'):s?n("#search-param").html("Group: "+s+" （"+h+'件） <a href="./works.html">全表示<\/a>'):r&&n("#works-link").removeClass("hidden");n(".screenshot").click(function(){n("#work-image").attr("src",n(this).attr("src"));n("#work-modal").modal()});n("#work-image").click(function(){n("#work-modal").modal("hide");n("#work-image").attr("src","")})})(jQuery);